<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
</head>
<body>
<h1>Konami Code</h1>

<script src="/js/jquery.js"></script>
<script>
    "use strict";
    // code:[38,38,40,40, 37,39,66,65,13]
            var konamikeys = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65, 13],
                started = false,
                count = 0;
            let key;
            var img = 'img/Contra_(NES_version_screenshot).png';
            $(document).keyup(function (e) {
                console.log(e.keyCode)
                var reset = function () {
                    started = false;
                    count = 0;
                    return;
                };
                key = e.keyCode;
                // Begin watching if first key in sequence was pressed.
                if (!started) {
                    if (key == 38) {
                        started = true;
                    }
                }
                // If we've started, pay attention to key presses, looking for right sequence.
                if (started) {

                    if (konamikeys[count] == key) {
                        count++;
                    } else {
                        // Incorrect key, restart.
                        reset();
                    }
                    if (count == 11) {
                        // Success!
                        alert('you get 30 lives');
                        $('body').css('background-color', 'blue');
                        $('body').css('background-image', 'url("' + img + '")');
                        $('h1').css('color', 'white')
                        reset();
                    }
                } else {
                    reset();
                }
            });

</script>
</body>
</html>
